"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/venue/page",{

/***/ "(app-pages-browser)/./src/hooks/useTableGuests.tsx":
/*!**************************************!*\
  !*** ./src/hooks/useTableGuests.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTableGuests: () => (/* binding */ useTableGuests)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/firebase */ \"(app-pages-browser)/./src/lib/firebase.ts\");\n/* __next_internal_client_entry_do_not_use__ useTableGuests auto */ var _s = $RefreshSig$();\n\n\n\n\nconst useTableGuests = ()=>{\n    _s();\n    const [tableGuests, setTableGuests] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.useAuth)();\n    // Real-time listener for table guests\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTableGuests.useEffect\": ()=>{\n            if (!user) {\n                setTableGuests([]);\n                setLoading(false);\n                return;\n            }\n            const tableGuestsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, 'users', user.id, 'tableGuests');\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(tableGuestsRef);\n            const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(q, {\n                \"useTableGuests.useEffect.unsubscribe\": (snapshot)=>{\n                    const guestsData = snapshot.docs.map({\n                        \"useTableGuests.useEffect.unsubscribe.guestsData\": (doc)=>({\n                                id: doc.id,\n                                ...doc.data()\n                            })\n                    }[\"useTableGuests.useEffect.unsubscribe.guestsData\"]);\n                    setTableGuests(guestsData);\n                    setLoading(false);\n                    setError(null);\n                    console.log('Fetched table guests:', guestsData.length, 'table guests');\n                }\n            }[\"useTableGuests.useEffect.unsubscribe\"], {\n                \"useTableGuests.useEffect.unsubscribe\": (err)=>{\n                    console.error('Error fetching table guests:', err);\n                    setError(err.message || 'Failed to fetch table guests');\n                    setTableGuests([]);\n                    setLoading(false);\n                }\n            }[\"useTableGuests.useEffect.unsubscribe\"]);\n            return ({\n                \"useTableGuests.useEffect\": ()=>unsubscribe()\n            })[\"useTableGuests.useEffect\"];\n        }\n    }[\"useTableGuests.useEffect\"], [\n        user\n    ]);\n    // Get guests for a specific table\n    const getGuestsForTable = (tableId)=>{\n        return tableGuests.filter((guest)=>guest.table_id === tableId);\n    };\n    // Add a new guest to a table\n    const addGuestToTable = async (name, tableId, tableName, eventId, guestId)=>{\n        if (!user) {\n            setError('User not authenticated');\n            return null;\n        }\n        try {\n            setError(null);\n            console.log('Adding table guest via API:', {\n                name,\n                tableId,\n                tableName,\n                eventId,\n                guestId\n            });\n            const requestData = {\n                guest_name: name.trim(),\n                table_id: tableId,\n                table_name: tableName || null,\n                event_id: eventId || null\n            };\n            // Only include guest_id if provided - temporary workaround for schema cache issue\n            if (guestId) {\n                requestData.guest_id = guestId;\n            }\n            const response = await fetch('/api/table-guests', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(requestData)\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                console.error('Error adding table guest:', result.error);\n                setError(result.error || 'Failed to add guest');\n                return null;\n            }\n            // Update local state\n            setTableGuests((prev)=>[\n                    ...prev,\n                    result.data\n                ]);\n            console.log('Successfully added table guest:', result.data);\n            return result.data;\n        } catch (err) {\n            console.error('Error adding guest:', err);\n            setError(err instanceof Error ? err.message : 'Failed to add guest');\n            return null;\n        }\n    };\n    // Update a guest\n    const updateGuest = async (guestId, updates)=>{\n        if (!user) {\n            setError('User not authenticated');\n            return false;\n        }\n        try {\n            setError(null);\n            console.log('Updating table guest via API:', {\n                guestId,\n                updates\n            });\n            const response = await fetch('/api/table-guests', {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    id: guestId,\n                    updates\n                })\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                console.error('Error updating table guest:', result.error);\n                setError(result.error || 'Failed to update guest');\n                return false;\n            }\n            // Update local state\n            setTableGuests((prev)=>prev.map((guest)=>guest.id === guestId ? {\n                        ...guest,\n                        ...updates,\n                        isEditing: false\n                    } : guest));\n            console.log('Successfully updated table guest:', result.data);\n            return true;\n        } catch (err) {\n            console.error('Error updating guest:', err);\n            setError(err instanceof Error ? err.message : 'Failed to update guest');\n            return false;\n        }\n    };\n    // Delete a guest\n    const deleteGuest = async (guestId)=>{\n        if (!user) {\n            setError('User not authenticated');\n            return false;\n        }\n        try {\n            setError(null);\n            console.log('Deleting table guest via API:', guestId);\n            const response = await fetch(\"/api/table-guests?id=\".concat(guestId), {\n                method: 'DELETE'\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                console.error('Error deleting table guest:', result.error);\n                setError(result.error || 'Failed to delete guest');\n                return false;\n            }\n            // Update local state\n            setTableGuests((prev)=>prev.filter((guest)=>guest.id !== guestId));\n            console.log('Successfully deleted table guest');\n            return true;\n        } catch (err) {\n            console.error('Error deleting guest:', err);\n            setError(err instanceof Error ? err.message : 'Failed to delete guest');\n            return false;\n        }\n    };\n    // Move guest to different table\n    const moveGuestToTable = async (guestId, newTableId, newTableName)=>{\n        return await updateGuest(guestId, {\n            table_id: newTableId,\n            table_name: newTableName\n        });\n    };\n    // Toggle edit mode for a guest\n    const toggleEditMode = (guestId)=>{\n        setTableGuests((prev)=>prev.map((guest)=>guest.id === guestId ? {\n                    ...guest,\n                    isEditing: !guest.isEditing\n                } : {\n                    ...guest,\n                    isEditing: false\n                } // Close other editing modes\n            ));\n    };\n    // Cancel edit mode for a guest\n    const cancelEdit = (guestId)=>{\n        setTableGuests((prev)=>prev.map((guest)=>guest.id === guestId ? {\n                    ...guest,\n                    isEditing: false\n                } : guest));\n    };\n    // Get guest count for a table\n    const getGuestCountForTable = (tableId)=>{\n        return tableGuests.filter((guest)=>guest.table_id === tableId).length;\n    };\n    // Get total guest count\n    const getTotalGuestCount = ()=>{\n        return tableGuests.length;\n    };\n    // Clear all guests (for development/testing)\n    const clearAllGuests = async ()=>{\n        if (!user) {\n            setError('User not authenticated');\n            return false;\n        }\n        try {\n            setError(null);\n            // Get user record to get internal user ID\n            let userData, userError;\n            const { data: userByEmail, error: emailError } = await supabase.from('users').select('id').eq('email', user.email).single();\n            if (emailError) {\n                const result = await supabase.from('users').select('id').eq('auth_id', user.id).single();\n                userData = result.data;\n                userError = result.error;\n            } else {\n                userData = userByEmail;\n                userError = emailError;\n            }\n            if (userError || !userData) {\n                setError('User not found in database');\n                return false;\n            }\n            const { error: deleteError } = await supabase.from('table_guests').delete().eq('user_id', userData.id);\n            if (deleteError) throw deleteError;\n            setTableGuests([]);\n            return true;\n        } catch (err) {\n            console.error('Error clearing guests:', err);\n            setError(err instanceof Error ? err.message : 'Failed to clear guests');\n            return false;\n        }\n    };\n    // Initial load\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTableGuests.useEffect\": ()=>{\n            fetchTableGuests();\n        }\n    }[\"useTableGuests.useEffect\"], [\n        user\n    ]);\n    return {\n        tableGuests,\n        loading,\n        error,\n        fetchTableGuests,\n        getGuestsForTable,\n        addGuestToTable,\n        updateGuest,\n        deleteGuest,\n        moveGuestToTable,\n        toggleEditMode,\n        cancelEdit,\n        getGuestCountForTable,\n        getTotalGuestCount,\n        clearAllGuests\n    };\n};\n_s(useTableGuests, \"5tKoZMQVADCDD3mKYoYhrYafT7Y=\", false, function() {\n    return [\n        _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.useAuth\n    ];\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VUYWJsZUd1ZXN0cy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUU0QztBQUNLO0FBYXJCO0FBQ1E7QUFrQjdCLE1BQU1PLGlCQUFpQjs7SUFDNUIsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdULCtDQUFRQSxDQUEwQixFQUFFO0lBQzFFLE1BQU0sQ0FBQ1UsU0FBU0MsV0FBVyxHQUFHWCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNZLE9BQU9DLFNBQVMsR0FBR2IsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sRUFBRWMsSUFBSSxFQUFFLEdBQUdaLDhEQUFPQTtJQUV4QixzQ0FBc0M7SUFDdENELGdEQUFTQTtvQ0FBQztZQUNSLElBQUksQ0FBQ2EsTUFBTTtnQkFDVEwsZUFBZSxFQUFFO2dCQUNqQkUsV0FBVztnQkFDWDtZQUNGO1lBRUEsTUFBTUksaUJBQWlCWiw4REFBVUEsQ0FBQ0csNkNBQUVBLEVBQUUsU0FBU1EsS0FBS0UsRUFBRSxFQUFFO1lBQ3hELE1BQU1DLElBQUliLHlEQUFLQSxDQUFDVztZQUVoQixNQUFNRyxjQUFjYiw4REFBVUEsQ0FDNUJZO3dEQUNBLENBQUNFO29CQUNDLE1BQU1DLGFBQWFELFNBQVNFLElBQUksQ0FBQ0MsR0FBRzsyRUFBQyxDQUFDQyxNQUFTO2dDQUM3Q1AsSUFBSU8sSUFBSVAsRUFBRTtnQ0FDVixHQUFHTyxJQUFJQyxJQUFJLEVBQUU7NEJBQ2Y7O29CQUVBZixlQUFlVztvQkFDZlQsV0FBVztvQkFDWEUsU0FBUztvQkFDVFksUUFBUUMsR0FBRyxDQUFDLHlCQUF5Qk4sV0FBV08sTUFBTSxFQUFFO2dCQUMxRDs7d0RBQ0EsQ0FBQ0M7b0JBQ0NILFFBQVFiLEtBQUssQ0FBQyxnQ0FBZ0NnQjtvQkFDOUNmLFNBQVNlLElBQUlDLE9BQU8sSUFBSTtvQkFDeEJwQixlQUFlLEVBQUU7b0JBQ2pCRSxXQUFXO2dCQUNiOztZQUdGOzRDQUFPLElBQU1POztR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QUVBLElBQUlGLGFBQWEsQ0FBQ0QsVUFBVTtnQkFDMUJ6RCxTQUFTO2dCQUNULE9BQU87WUFDVDtZQUVBLE1BQU0sRUFBRUQsT0FBT29FLFdBQVcsRUFBRSxHQUFHLE1BQU1OLFNBQ2xDQyxJQUFJLENBQUMsZ0JBQ0xNLE1BQU0sR0FDTkosRUFBRSxDQUFDLFdBQVdQLFNBQVN0RCxFQUFFO1lBRTVCLElBQUlnRSxhQUFhLE1BQU1BO1lBRXZCdkUsZUFBZSxFQUFFO1lBQ2pCLE9BQU87UUFDVCxFQUFFLE9BQU9tQixLQUFLO1lBQ1pILFFBQVFiLEtBQUssQ0FBQywwQkFBMEJnQjtZQUN4Q2YsU0FBU2UsZUFBZTZCLFFBQVE3QixJQUFJQyxPQUFPLEdBQUc7WUFDOUMsT0FBTztRQUNUO0lBQ0Y7SUFFQSxlQUFlO0lBQ2Y1QixnREFBU0E7b0NBQUM7WUFDUmlGO1FBQ0Y7bUNBQUc7UUFBQ3BFO0tBQUs7SUFFVCxPQUFPO1FBQ0xOO1FBQ0FFO1FBQ0FFO1FBQ0FzRTtRQUNBcEQ7UUFDQUs7UUFDQXVCO1FBQ0FHO1FBQ0FDO1FBQ0FHO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO0lBQ0Y7QUFDRixFQUFFO0dBalRXOUQ7O1FBSU1MLDBEQUFPQSIsInNvdXJjZXMiOlsiRDpcXFdlYiBEZXYgUHJvamVjdHNcXG51bnRhMzYwXFxzcmNcXGhvb2tzXFx1c2VUYWJsZUd1ZXN0cy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IHtcbiAgY29sbGVjdGlvbixcbiAgcXVlcnksXG4gIG9uU25hcHNob3QsXG4gIGFkZERvYyxcbiAgdXBkYXRlRG9jLFxuICBkZWxldGVEb2MsXG4gIGRvYyxcbiAgc2VydmVyVGltZXN0YW1wLFxuICBUaW1lc3RhbXAsXG4gIHdoZXJlLFxuICBnZXREb2NzLFxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2xpYi9maXJlYmFzZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVHdWVzdCB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHRhYmxlSWQ6IHN0cmluZztcbiAgdGFibGVOYW1lPzogc3RyaW5nO1xuICBldmVudElkPzogc3RyaW5nO1xuICBndWVzdElkPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IFRpbWVzdGFtcDtcbiAgdXBkYXRlZEF0OiBUaW1lc3RhbXA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVHdWVzdFdpdGhBY3Rpb25zIGV4dGVuZHMgVGFibGVHdWVzdCB7XG4gIGlzRWRpdGluZz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCB1c2VUYWJsZUd1ZXN0cyA9ICgpID0+IHtcbiAgY29uc3QgW3RhYmxlR3Vlc3RzLCBzZXRUYWJsZUd1ZXN0c10gPSB1c2VTdGF0ZTxUYWJsZUd1ZXN0V2l0aEFjdGlvbnNbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VBdXRoKCk7XG5cbiAgLy8gUmVhbC10aW1lIGxpc3RlbmVyIGZvciB0YWJsZSBndWVzdHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHNldFRhYmxlR3Vlc3RzKFtdKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRhYmxlR3Vlc3RzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlci5pZCwgJ3RhYmxlR3Vlc3RzJyk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KHRhYmxlR3Vlc3RzUmVmKTtcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25TbmFwc2hvdChcbiAgICAgIHEsXG4gICAgICAoc25hcHNob3QpID0+IHtcbiAgICAgICAgY29uc3QgZ3Vlc3RzRGF0YSA9IHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgICB9KSkgYXMgVGFibGVHdWVzdFdpdGhBY3Rpb25zW107XG5cbiAgICAgICAgc2V0VGFibGVHdWVzdHMoZ3Vlc3RzRGF0YSk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoZWQgdGFibGUgZ3Vlc3RzOicsIGd1ZXN0c0RhdGEubGVuZ3RoLCAndGFibGUgZ3Vlc3RzJyk7XG4gICAgICB9LFxuICAgICAgKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB0YWJsZSBndWVzdHM6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBmZXRjaCB0YWJsZSBndWVzdHMnKTtcbiAgICAgICAgc2V0VGFibGVHdWVzdHMoW10pO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XG4gIH0sIFt1c2VyXSk7XG5cbiAgLy8gR2V0IGd1ZXN0cyBmb3IgYSBzcGVjaWZpYyB0YWJsZVxuICBjb25zdCBnZXRHdWVzdHNGb3JUYWJsZSA9ICh0YWJsZUlkOiBzdHJpbmcpOiBUYWJsZUd1ZXN0V2l0aEFjdGlvbnNbXSA9PiB7XG4gICAgcmV0dXJuIHRhYmxlR3Vlc3RzLmZpbHRlcihndWVzdCA9PiBndWVzdC50YWJsZV9pZCA9PT0gdGFibGVJZCk7XG4gIH07XG5cbiAgLy8gQWRkIGEgbmV3IGd1ZXN0IHRvIGEgdGFibGVcbiAgY29uc3QgYWRkR3Vlc3RUb1RhYmxlID0gYXN5bmMgKFxuICAgIG5hbWU6IHN0cmluZywgXG4gICAgdGFibGVJZDogc3RyaW5nLCBcbiAgICB0YWJsZU5hbWU/OiBzdHJpbmcsIFxuICAgIGV2ZW50SWQ/OiBzdHJpbmcsXG4gICAgZ3Vlc3RJZD86IHN0cmluZ1xuICApOiBQcm9taXNlPFRhYmxlR3Vlc3QgfCBudWxsPiA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBzZXRFcnJvcignVXNlciBub3QgYXV0aGVudGljYXRlZCcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICBjb25zb2xlLmxvZygnQWRkaW5nIHRhYmxlIGd1ZXN0IHZpYSBBUEk6JywgeyBuYW1lLCB0YWJsZUlkLCB0YWJsZU5hbWUsIGV2ZW50SWQsIGd1ZXN0SWQgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3REYXRhOiBhbnkgPSB7XG4gICAgICAgIGd1ZXN0X25hbWU6IG5hbWUudHJpbSgpLFxuICAgICAgICB0YWJsZV9pZDogdGFibGVJZCxcbiAgICAgICAgdGFibGVfbmFtZTogdGFibGVOYW1lIHx8IG51bGwsXG4gICAgICAgIGV2ZW50X2lkOiBldmVudElkIHx8IG51bGwsXG4gICAgICB9O1xuXG4gICAgICAvLyBPbmx5IGluY2x1ZGUgZ3Vlc3RfaWQgaWYgcHJvdmlkZWQgLSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCBmb3Igc2NoZW1hIGNhY2hlIGlzc3VlXG4gICAgICBpZiAoZ3Vlc3RJZCkge1xuICAgICAgICByZXF1ZXN0RGF0YS5ndWVzdF9pZCA9IGd1ZXN0SWQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdGFibGUtZ3Vlc3RzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3REYXRhKSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIHRhYmxlIGd1ZXN0OicsIHJlc3VsdC5lcnJvcik7XG4gICAgICAgIHNldEVycm9yKHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIGFkZCBndWVzdCcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICBzZXRUYWJsZUd1ZXN0cyhwcmV2ID0+IFsuLi5wcmV2LCByZXN1bHQuZGF0YV0pO1xuICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBhZGRlZCB0YWJsZSBndWVzdDonLCByZXN1bHQuZGF0YSk7XG4gICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgZ3Vlc3Q6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGFkZCBndWVzdCcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFVwZGF0ZSBhIGd1ZXN0XG4gIGNvbnN0IHVwZGF0ZUd1ZXN0ID0gYXN5bmMgKFxuICAgIGd1ZXN0SWQ6IHN0cmluZywgXG4gICAgdXBkYXRlczogUGFydGlhbDxQaWNrPFRhYmxlR3Vlc3RVcGRhdGUsICduYW1lJyB8ICd0YWJsZV9pZCcgfCAndGFibGVfbmFtZSc+PlxuICApOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHNldEVycm9yKCdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgdGFibGUgZ3Vlc3QgdmlhIEFQSTonLCB7IGd1ZXN0SWQsIHVwZGF0ZXMgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdGFibGUtZ3Vlc3RzJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpZDogZ3Vlc3RJZCwgdXBkYXRlcyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdGFibGUgZ3Vlc3Q6JywgcmVzdWx0LmVycm9yKTtcbiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yIHx8ICdGYWlsZWQgdG8gdXBkYXRlIGd1ZXN0Jyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICBzZXRUYWJsZUd1ZXN0cyhwcmV2ID0+IFxuICAgICAgICBwcmV2Lm1hcChndWVzdCA9PiBcbiAgICAgICAgICBndWVzdC5pZCA9PT0gZ3Vlc3RJZCBcbiAgICAgICAgICAgID8geyAuLi5ndWVzdCwgLi4udXBkYXRlcywgaXNFZGl0aW5nOiBmYWxzZSB9XG4gICAgICAgICAgICA6IGd1ZXN0XG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgdXBkYXRlZCB0YWJsZSBndWVzdDonLCByZXN1bHQuZGF0YSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGd1ZXN0OicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byB1cGRhdGUgZ3Vlc3QnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRGVsZXRlIGEgZ3Vlc3RcbiAgY29uc3QgZGVsZXRlR3Vlc3QgPSBhc3luYyAoZ3Vlc3RJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBzZXRFcnJvcignVXNlciBub3QgYXV0aGVudGljYXRlZCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgY29uc29sZS5sb2coJ0RlbGV0aW5nIHRhYmxlIGd1ZXN0IHZpYSBBUEk6JywgZ3Vlc3RJZCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdGFibGUtZ3Vlc3RzP2lkPSR7Z3Vlc3RJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHRhYmxlIGd1ZXN0OicsIHJlc3VsdC5lcnJvcik7XG4gICAgICAgIHNldEVycm9yKHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIGRlbGV0ZSBndWVzdCcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgc2V0VGFibGVHdWVzdHMocHJldiA9PiBwcmV2LmZpbHRlcihndWVzdCA9PiBndWVzdC5pZCAhPT0gZ3Vlc3RJZCkpO1xuICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBkZWxldGVkIHRhYmxlIGd1ZXN0Jyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGd1ZXN0OicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBkZWxldGUgZ3Vlc3QnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTW92ZSBndWVzdCB0byBkaWZmZXJlbnQgdGFibGVcbiAgY29uc3QgbW92ZUd1ZXN0VG9UYWJsZSA9IGFzeW5jIChcbiAgICBndWVzdElkOiBzdHJpbmcsIFxuICAgIG5ld1RhYmxlSWQ6IHN0cmluZywgXG4gICAgbmV3VGFibGVOYW1lPzogc3RyaW5nXG4gICk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHJldHVybiBhd2FpdCB1cGRhdGVHdWVzdChndWVzdElkLCB7IFxuICAgICAgdGFibGVfaWQ6IG5ld1RhYmxlSWQsIFxuICAgICAgdGFibGVfbmFtZTogbmV3VGFibGVOYW1lIFxuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRvZ2dsZSBlZGl0IG1vZGUgZm9yIGEgZ3Vlc3RcbiAgY29uc3QgdG9nZ2xlRWRpdE1vZGUgPSAoZ3Vlc3RJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0VGFibGVHdWVzdHMocHJldiA9PiBcbiAgICAgIHByZXYubWFwKGd1ZXN0ID0+IFxuICAgICAgICBndWVzdC5pZCA9PT0gZ3Vlc3RJZCBcbiAgICAgICAgICA/IHsgLi4uZ3Vlc3QsIGlzRWRpdGluZzogIWd1ZXN0LmlzRWRpdGluZyB9XG4gICAgICAgICAgOiB7IC4uLmd1ZXN0LCBpc0VkaXRpbmc6IGZhbHNlIH0gLy8gQ2xvc2Ugb3RoZXIgZWRpdGluZyBtb2Rlc1xuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgLy8gQ2FuY2VsIGVkaXQgbW9kZSBmb3IgYSBndWVzdFxuICBjb25zdCBjYW5jZWxFZGl0ID0gKGd1ZXN0SWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFRhYmxlR3Vlc3RzKHByZXYgPT4gXG4gICAgICBwcmV2Lm1hcChndWVzdCA9PiBcbiAgICAgICAgZ3Vlc3QuaWQgPT09IGd1ZXN0SWQgXG4gICAgICAgICAgPyB7IC4uLmd1ZXN0LCBpc0VkaXRpbmc6IGZhbHNlIH1cbiAgICAgICAgICA6IGd1ZXN0XG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICAvLyBHZXQgZ3Vlc3QgY291bnQgZm9yIGEgdGFibGVcbiAgY29uc3QgZ2V0R3Vlc3RDb3VudEZvclRhYmxlID0gKHRhYmxlSWQ6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIHRhYmxlR3Vlc3RzLmZpbHRlcihndWVzdCA9PiBndWVzdC50YWJsZV9pZCA9PT0gdGFibGVJZCkubGVuZ3RoO1xuICB9O1xuXG4gIC8vIEdldCB0b3RhbCBndWVzdCBjb3VudFxuICBjb25zdCBnZXRUb3RhbEd1ZXN0Q291bnQgPSAoKTogbnVtYmVyID0+IHtcbiAgICByZXR1cm4gdGFibGVHdWVzdHMubGVuZ3RoO1xuICB9O1xuXG4gIC8vIENsZWFyIGFsbCBndWVzdHMgKGZvciBkZXZlbG9wbWVudC90ZXN0aW5nKVxuICBjb25zdCBjbGVhckFsbEd1ZXN0cyA9IGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHNldEVycm9yKCdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAvLyBHZXQgdXNlciByZWNvcmQgdG8gZ2V0IGludGVybmFsIHVzZXIgSURcbiAgICAgIGxldCB1c2VyRGF0YSwgdXNlckVycm9yO1xuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJCeUVtYWlsLCBlcnJvcjogZW1haWxFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ2VtYWlsJywgdXNlci5lbWFpbClcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICBcbiAgICAgIGlmIChlbWFpbEVycm9yKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgICAgLmVxKCdhdXRoX2lkJywgdXNlci5pZClcbiAgICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgIHVzZXJEYXRhID0gcmVzdWx0LmRhdGE7XG4gICAgICAgIHVzZXJFcnJvciA9IHJlc3VsdC5lcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJEYXRhID0gdXNlckJ5RW1haWw7XG4gICAgICAgIHVzZXJFcnJvciA9IGVtYWlsRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGlmICh1c2VyRXJyb3IgfHwgIXVzZXJEYXRhKSB7XG4gICAgICAgIHNldEVycm9yKCdVc2VyIG5vdCBmb3VuZCBpbiBkYXRhYmFzZScpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZXJyb3I6IGRlbGV0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndGFibGVfZ3Vlc3RzJylcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJEYXRhLmlkKTtcblxuICAgICAgaWYgKGRlbGV0ZUVycm9yKSB0aHJvdyBkZWxldGVFcnJvcjtcblxuICAgICAgc2V0VGFibGVHdWVzdHMoW10pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBndWVzdHM6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGNsZWFyIGd1ZXN0cycpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyBJbml0aWFsIGxvYWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaFRhYmxlR3Vlc3RzKCk7XG4gIH0sIFt1c2VyXSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0YWJsZUd1ZXN0cyxcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIGZldGNoVGFibGVHdWVzdHMsXG4gICAgZ2V0R3Vlc3RzRm9yVGFibGUsXG4gICAgYWRkR3Vlc3RUb1RhYmxlLFxuICAgIHVwZGF0ZUd1ZXN0LFxuICAgIGRlbGV0ZUd1ZXN0LFxuICAgIG1vdmVHdWVzdFRvVGFibGUsXG4gICAgdG9nZ2xlRWRpdE1vZGUsXG4gICAgY2FuY2VsRWRpdCxcbiAgICBnZXRHdWVzdENvdW50Rm9yVGFibGUsXG4gICAgZ2V0VG90YWxHdWVzdENvdW50LFxuICAgIGNsZWFyQWxsR3Vlc3RzLFxuICB9O1xufTsiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VBdXRoIiwiY29sbGVjdGlvbiIsInF1ZXJ5Iiwib25TbmFwc2hvdCIsImRiIiwidXNlVGFibGVHdWVzdHMiLCJ0YWJsZUd1ZXN0cyIsInNldFRhYmxlR3Vlc3RzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwidXNlciIsInRhYmxlR3Vlc3RzUmVmIiwiaWQiLCJxIiwidW5zdWJzY3JpYmUiLCJzbmFwc2hvdCIsImd1ZXN0c0RhdGEiLCJkb2NzIiwibWFwIiwiZG9jIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJlcnIiLCJtZXNzYWdlIiwiZ2V0R3Vlc3RzRm9yVGFibGUiLCJ0YWJsZUlkIiwiZmlsdGVyIiwiZ3Vlc3QiLCJ0YWJsZV9pZCIsImFkZEd1ZXN0VG9UYWJsZSIsIm5hbWUiLCJ0YWJsZU5hbWUiLCJldmVudElkIiwiZ3Vlc3RJZCIsInJlcXVlc3REYXRhIiwiZ3Vlc3RfbmFtZSIsInRyaW0iLCJ0YWJsZV9uYW1lIiwiZXZlbnRfaWQiLCJndWVzdF9pZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXN1bHQiLCJqc29uIiwib2siLCJwcmV2IiwiRXJyb3IiLCJ1cGRhdGVHdWVzdCIsInVwZGF0ZXMiLCJpc0VkaXRpbmciLCJkZWxldGVHdWVzdCIsIm1vdmVHdWVzdFRvVGFibGUiLCJuZXdUYWJsZUlkIiwibmV3VGFibGVOYW1lIiwidG9nZ2xlRWRpdE1vZGUiLCJjYW5jZWxFZGl0IiwiZ2V0R3Vlc3RDb3VudEZvclRhYmxlIiwiZ2V0VG90YWxHdWVzdENvdW50IiwiY2xlYXJBbGxHdWVzdHMiLCJ1c2VyRGF0YSIsInVzZXJFcnJvciIsInVzZXJCeUVtYWlsIiwiZW1haWxFcnJvciIsInN1cGFiYXNlIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiZW1haWwiLCJzaW5nbGUiLCJkZWxldGVFcnJvciIsImRlbGV0ZSIsImZldGNoVGFibGVHdWVzdHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useTableGuests.tsx\n"));

/***/ })

});