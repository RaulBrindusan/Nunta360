"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/venue/page",{

/***/ "(app-pages-browser)/./src/hooks/useTableGuests.tsx":
/*!**************************************!*\
  !*** ./src/hooks/useTableGuests.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTableGuests: () => (/* binding */ useTableGuests)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/firebase */ \"(app-pages-browser)/./src/lib/firebase.ts\");\n/* __next_internal_client_entry_do_not_use__ useTableGuests auto */ var _s = $RefreshSig$();\n\n\n\n\nconst useTableGuests = ()=>{\n    _s();\n    const [tableGuests, setTableGuests] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.useAuth)();\n    // Real-time listener for table guests\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTableGuests.useEffect\": ()=>{\n            if (!user) {\n                setTableGuests([]);\n                setLoading(false);\n                return;\n            }\n            const tableGuestsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, 'users', user.id, 'tableGuests');\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(tableGuestsRef);\n            const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(q, {\n                \"useTableGuests.useEffect.unsubscribe\": (snapshot)=>{\n                    const guestsData = snapshot.docs.map({\n                        \"useTableGuests.useEffect.unsubscribe.guestsData\": (doc)=>({\n                                id: doc.id,\n                                ...doc.data()\n                            })\n                    }[\"useTableGuests.useEffect.unsubscribe.guestsData\"]);\n                    setTableGuests(guestsData);\n                    setLoading(false);\n                    setError(null);\n                    console.log('Fetched table guests:', guestsData.length, 'table guests');\n                }\n            }[\"useTableGuests.useEffect.unsubscribe\"], {\n                \"useTableGuests.useEffect.unsubscribe\": (err)=>{\n                    console.error('Error fetching table guests:', err);\n                    setError(err.message || 'Failed to fetch table guests');\n                    setTableGuests([]);\n                    setLoading(false);\n                }\n            }[\"useTableGuests.useEffect.unsubscribe\"]);\n            return ({\n                \"useTableGuests.useEffect\": ()=>unsubscribe()\n            })[\"useTableGuests.useEffect\"];\n        }\n    }[\"useTableGuests.useEffect\"], [\n        user\n    ]);\n    // Get guests for a specific table\n    const getGuestsForTable = (tableId)=>{\n        return tableGuests.filter((guest)=>guest.tableId === tableId);\n    };\n    // Add a new guest to a table\n    const addGuestToTable = async (name, tableId, tableName, eventId, guestId)=>{\n        if (!user) {\n            setError('User not authenticated');\n            return null;\n        }\n        try {\n            setError(null);\n            const tableGuestsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, 'users', user.id, 'tableGuests');\n            const guestData = {\n                userId: user.id,\n                name: name.trim(),\n                tableId,\n                tableName: tableName || null,\n                eventId: eventId || null,\n                guestId: guestId || null,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n            };\n            const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.addDoc)(tableGuestsRef, guestData);\n            console.log('Successfully added table guest:', docRef.id);\n            return {\n                id: docRef.id,\n                ...guestData\n            };\n        } catch (err) {\n            console.error('Error adding guest:', err);\n            setError(err instanceof Error ? err.message : 'Failed to add guest');\n            return null;\n        }\n    };\n    // Update a guest\n    const updateGuest = async (guestId, updates)=>{\n        if (!user) {\n            setError('User not authenticated');\n            return false;\n        }\n        try {\n            setError(null);\n            console.log('Updating table guest via API:', {\n                guestId,\n                updates\n            });\n            const response = await fetch('/api/table-guests', {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    id: guestId,\n                    updates\n                })\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                console.error('Error updating table guest:', result.error);\n                setError(result.error || 'Failed to update guest');\n                return false;\n            }\n            // Update local state\n            setTableGuests((prev)=>prev.map((guest)=>guest.id === guestId ? {\n                        ...guest,\n                        ...updates,\n                        isEditing: false\n                    } : guest));\n            console.log('Successfully updated table guest:', result.data);\n            return true;\n        } catch (err) {\n            console.error('Error updating guest:', err);\n            setError(err instanceof Error ? err.message : 'Failed to update guest');\n            return false;\n        }\n    };\n    // Delete a guest\n    const deleteGuest = async (guestId)=>{\n        if (!user) {\n            setError('User not authenticated');\n            return false;\n        }\n        try {\n            setError(null);\n            console.log('Deleting table guest via API:', guestId);\n            const response = await fetch(\"/api/table-guests?id=\".concat(guestId), {\n                method: 'DELETE'\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                console.error('Error deleting table guest:', result.error);\n                setError(result.error || 'Failed to delete guest');\n                return false;\n            }\n            // Update local state\n            setTableGuests((prev)=>prev.filter((guest)=>guest.id !== guestId));\n            console.log('Successfully deleted table guest');\n            return true;\n        } catch (err) {\n            console.error('Error deleting guest:', err);\n            setError(err instanceof Error ? err.message : 'Failed to delete guest');\n            return false;\n        }\n    };\n    // Move guest to different table\n    const moveGuestToTable = async (guestId, newTableId, newTableName)=>{\n        return await updateGuest(guestId, {\n            table_id: newTableId,\n            table_name: newTableName\n        });\n    };\n    // Toggle edit mode for a guest\n    const toggleEditMode = (guestId)=>{\n        setTableGuests((prev)=>prev.map((guest)=>guest.id === guestId ? {\n                    ...guest,\n                    isEditing: !guest.isEditing\n                } : {\n                    ...guest,\n                    isEditing: false\n                } // Close other editing modes\n            ));\n    };\n    // Cancel edit mode for a guest\n    const cancelEdit = (guestId)=>{\n        setTableGuests((prev)=>prev.map((guest)=>guest.id === guestId ? {\n                    ...guest,\n                    isEditing: false\n                } : guest));\n    };\n    // Get guest count for a table\n    const getGuestCountForTable = (tableId)=>{\n        return tableGuests.filter((guest)=>guest.table_id === tableId).length;\n    };\n    // Get total guest count\n    const getTotalGuestCount = ()=>{\n        return tableGuests.length;\n    };\n    // Clear all guests (for development/testing)\n    const clearAllGuests = async ()=>{\n        if (!user) {\n            setError('User not authenticated');\n            return false;\n        }\n        try {\n            setError(null);\n            // Get user record to get internal user ID\n            let userData, userError;\n            const { data: userByEmail, error: emailError } = await supabase.from('users').select('id').eq('email', user.email).single();\n            if (emailError) {\n                const result = await supabase.from('users').select('id').eq('auth_id', user.id).single();\n                userData = result.data;\n                userError = result.error;\n            } else {\n                userData = userByEmail;\n                userError = emailError;\n            }\n            if (userError || !userData) {\n                setError('User not found in database');\n                return false;\n            }\n            const { error: deleteError } = await supabase.from('table_guests').delete().eq('user_id', userData.id);\n            if (deleteError) throw deleteError;\n            setTableGuests([]);\n            return true;\n        } catch (err) {\n            console.error('Error clearing guests:', err);\n            setError(err instanceof Error ? err.message : 'Failed to clear guests');\n            return false;\n        }\n    };\n    // Initial load\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useTableGuests.useEffect\": ()=>{\n            fetchTableGuests();\n        }\n    }[\"useTableGuests.useEffect\"], [\n        user\n    ]);\n    return {\n        tableGuests,\n        loading,\n        error,\n        fetchTableGuests,\n        getGuestsForTable,\n        addGuestToTable,\n        updateGuest,\n        deleteGuest,\n        moveGuestToTable,\n        toggleEditMode,\n        cancelEdit,\n        getGuestCountForTable,\n        getTotalGuestCount,\n        clearAllGuests\n    };\n};\n_s(useTableGuests, \"5tKoZMQVADCDD3mKYoYhrYafT7Y=\", false, function() {\n    return [\n        _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.useAuth\n    ];\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VUYWJsZUd1ZXN0cy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUU0QztBQUNLO0FBYXJCO0FBQ1E7QUFrQjdCLE1BQU1TLGlCQUFpQjs7SUFDNUIsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdYLCtDQUFRQSxDQUEwQixFQUFFO0lBQzFFLE1BQU0sQ0FBQ1ksU0FBU0MsV0FBVyxHQUFHYiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNjLE9BQU9DLFNBQVMsR0FBR2YsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sRUFBRWdCLElBQUksRUFBRSxHQUFHZCw4REFBT0E7SUFFeEIsc0NBQXNDO0lBQ3RDRCxnREFBU0E7b0NBQUM7WUFDUixJQUFJLENBQUNlLE1BQU07Z0JBQ1RMLGVBQWUsRUFBRTtnQkFDakJFLFdBQVc7Z0JBQ1g7WUFDRjtZQUVBLE1BQU1JLGlCQUFpQmQsOERBQVVBLENBQUNLLDZDQUFFQSxFQUFFLFNBQVNRLEtBQUtFLEVBQUUsRUFBRTtZQUN4RCxNQUFNQyxJQUFJZix5REFBS0EsQ0FBQ2E7WUFFaEIsTUFBTUcsY0FBY2YsOERBQVVBLENBQzVCYzt3REFDQSxDQUFDRTtvQkFDQyxNQUFNQyxhQUFhRCxTQUFTRSxJQUFJLENBQUNDLEdBQUc7MkVBQUMsQ0FBQ0MsTUFBUztnQ0FDN0NQLElBQUlPLElBQUlQLEVBQUU7Z0NBQ1YsR0FBR08sSUFBSUMsSUFBSSxFQUFFOzRCQUNmOztvQkFFQWYsZUFBZVc7b0JBQ2ZULFdBQVc7b0JBQ1hFLFNBQVM7b0JBQ1RZLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUJOLFdBQVdPLE1BQU0sRUFBRTtnQkFDMUQ7O3dEQUNBLENBQUNDO29CQUNDSCxRQUFRYixLQUFLLENBQUMsZ0NBQWdDZ0I7b0JBQzlDZixTQUFTZSxJQUFJQyxPQUFPLElBQUk7b0JBQ3hCcEIsZUFBZSxFQUFFO29CQUNqQkUsV0FBVztnQkFDYjs7WUFHRjs0Q0FBTyxJQUFNTzs7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UWIsS0FBSyxDQUFDLDBCQUEwQmdCO1lBQ3hDZixTQUFTZSxlQUFlaUIsUUFBUWpCLElBQUlDLE9BQU8sR0FBRztZQUM5QyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLGVBQWU7SUFDZjlCLGdEQUFTQTtvQ0FBQztZQUNSb0Y7UUFDRjttQ0FBRztRQUFDckU7S0FBSztJQUVULE9BQU87UUFDTE47UUFDQUU7UUFDQUU7UUFDQXVFO1FBQ0FyRDtRQUNBSTtRQUNBWTtRQUNBYztRQUNBQztRQUNBSztRQUNBQztRQUNBQztRQUNBQztRQUNBQztJQUNGO0FBQ0YsRUFBRTtHQWhTVy9EOztRQUlNUCwwREFBT0EiLCJzb3VyY2VzIjpbIkQ6XFxXZWIgRGV2IFByb2plY3RzXFxudW50YTM2MFxcc3JjXFxob29rc1xcdXNlVGFibGVHdWVzdHMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICdAL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCB7XG4gIGNvbGxlY3Rpb24sXG4gIHF1ZXJ5LFxuICBvblNuYXBzaG90LFxuICBhZGREb2MsXG4gIHVwZGF0ZURvYyxcbiAgZGVsZXRlRG9jLFxuICBkb2MsXG4gIHNlcnZlclRpbWVzdGFtcCxcbiAgVGltZXN0YW1wLFxuICB3aGVyZSxcbiAgZ2V0RG9jcyxcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZmlyZWJhc2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlR3Vlc3Qge1xuICBpZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB0YWJsZUlkOiBzdHJpbmc7XG4gIHRhYmxlTmFtZT86IHN0cmluZztcbiAgZXZlbnRJZD86IHN0cmluZztcbiAgZ3Vlc3RJZD86IHN0cmluZztcbiAgY3JlYXRlZEF0OiBUaW1lc3RhbXA7XG4gIHVwZGF0ZWRBdDogVGltZXN0YW1wO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlR3Vlc3RXaXRoQWN0aW9ucyBleHRlbmRzIFRhYmxlR3Vlc3Qge1xuICBpc0VkaXRpbmc/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgdXNlVGFibGVHdWVzdHMgPSAoKSA9PiB7XG4gIGNvbnN0IFt0YWJsZUd1ZXN0cywgc2V0VGFibGVHdWVzdHNdID0gdXNlU3RhdGU8VGFibGVHdWVzdFdpdGhBY3Rpb25zW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuXG4gIC8vIFJlYWwtdGltZSBsaXN0ZW5lciBmb3IgdGFibGUgZ3Vlc3RzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBzZXRUYWJsZUd1ZXN0cyhbXSk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0YWJsZUd1ZXN0c1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXIuaWQsICd0YWJsZUd1ZXN0cycpO1xuICAgIGNvbnN0IHEgPSBxdWVyeSh0YWJsZUd1ZXN0c1JlZik7XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uU25hcHNob3QoXG4gICAgICBxLFxuICAgICAgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgIGNvbnN0IGd1ZXN0c0RhdGEgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiAoe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgICAgfSkpIGFzIFRhYmxlR3Vlc3RXaXRoQWN0aW9uc1tdO1xuXG4gICAgICAgIHNldFRhYmxlR3Vlc3RzKGd1ZXN0c0RhdGEpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIHRhYmxlIGd1ZXN0czonLCBndWVzdHNEYXRhLmxlbmd0aCwgJ3RhYmxlIGd1ZXN0cycpO1xuICAgICAgfSxcbiAgICAgIChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdGFibGUgZ3Vlc3RzOicsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggdGFibGUgZ3Vlc3RzJyk7XG4gICAgICAgIHNldFRhYmxlR3Vlc3RzKFtdKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICB9LCBbdXNlcl0pO1xuXG4gIC8vIEdldCBndWVzdHMgZm9yIGEgc3BlY2lmaWMgdGFibGVcbiAgY29uc3QgZ2V0R3Vlc3RzRm9yVGFibGUgPSAodGFibGVJZDogc3RyaW5nKTogVGFibGVHdWVzdFdpdGhBY3Rpb25zW10gPT4ge1xuICAgIHJldHVybiB0YWJsZUd1ZXN0cy5maWx0ZXIoZ3Vlc3QgPT4gZ3Vlc3QudGFibGVJZCA9PT0gdGFibGVJZCk7XG4gIH07XG5cbiAgLy8gQWRkIGEgbmV3IGd1ZXN0IHRvIGEgdGFibGVcbiAgY29uc3QgYWRkR3Vlc3RUb1RhYmxlID0gYXN5bmMgKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB0YWJsZUlkOiBzdHJpbmcsXG4gICAgdGFibGVOYW1lPzogc3RyaW5nLFxuICAgIGV2ZW50SWQ/OiBzdHJpbmcsXG4gICAgZ3Vlc3RJZD86IHN0cmluZ1xuICApOiBQcm9taXNlPFRhYmxlR3Vlc3QgfCBudWxsPiA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBzZXRFcnJvcignVXNlciBub3QgYXV0aGVudGljYXRlZCcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICBjb25zdCB0YWJsZUd1ZXN0c1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXIuaWQsICd0YWJsZUd1ZXN0cycpO1xuXG4gICAgICBjb25zdCBndWVzdERhdGEgPSB7XG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgbmFtZTogbmFtZS50cmltKCksXG4gICAgICAgIHRhYmxlSWQsXG4gICAgICAgIHRhYmxlTmFtZTogdGFibGVOYW1lIHx8IG51bGwsXG4gICAgICAgIGV2ZW50SWQ6IGV2ZW50SWQgfHwgbnVsbCxcbiAgICAgICAgZ3Vlc3RJZDogZ3Vlc3RJZCB8fCBudWxsLFxuICAgICAgICBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZG9jUmVmID0gYXdhaXQgYWRkRG9jKHRhYmxlR3Vlc3RzUmVmLCBndWVzdERhdGEpO1xuXG4gICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGFkZGVkIHRhYmxlIGd1ZXN0OicsIGRvY1JlZi5pZCk7XG4gICAgICByZXR1cm4geyBpZDogZG9jUmVmLmlkLCAuLi5ndWVzdERhdGEgfSBhcyBUYWJsZUd1ZXN0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIGd1ZXN0OicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBhZGQgZ3Vlc3QnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvLyBVcGRhdGUgYSBndWVzdFxuICBjb25zdCB1cGRhdGVHdWVzdCA9IGFzeW5jIChcbiAgICBndWVzdElkOiBzdHJpbmcsIFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8UGljazxUYWJsZUd1ZXN0VXBkYXRlLCAnbmFtZScgfCAndGFibGVfaWQnIHwgJ3RhYmxlX25hbWUnPj5cbiAgKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBzZXRFcnJvcignVXNlciBub3QgYXV0aGVudGljYXRlZCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIHRhYmxlIGd1ZXN0IHZpYSBBUEk6JywgeyBndWVzdElkLCB1cGRhdGVzIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3RhYmxlLWd1ZXN0cycsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWQ6IGd1ZXN0SWQsIHVwZGF0ZXMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHRhYmxlIGd1ZXN0OicsIHJlc3VsdC5lcnJvcik7XG4gICAgICAgIHNldEVycm9yKHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIHVwZGF0ZSBndWVzdCcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgc2V0VGFibGVHdWVzdHMocHJldiA9PiBcbiAgICAgICAgcHJldi5tYXAoZ3Vlc3QgPT4gXG4gICAgICAgICAgZ3Vlc3QuaWQgPT09IGd1ZXN0SWQgXG4gICAgICAgICAgICA/IHsgLi4uZ3Vlc3QsIC4uLnVwZGF0ZXMsIGlzRWRpdGluZzogZmFsc2UgfVxuICAgICAgICAgICAgOiBndWVzdFxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgdGFibGUgZ3Vlc3Q6JywgcmVzdWx0LmRhdGEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBndWVzdDonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gdXBkYXRlIGd1ZXN0Jyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIERlbGV0ZSBhIGd1ZXN0XG4gIGNvbnN0IGRlbGV0ZUd1ZXN0ID0gYXN5bmMgKGd1ZXN0SWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGlmICghdXNlcikge1xuICAgICAgc2V0RXJyb3IoJ1VzZXIgbm90IGF1dGhlbnRpY2F0ZWQnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdEZWxldGluZyB0YWJsZSBndWVzdCB2aWEgQVBJOicsIGd1ZXN0SWQpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3RhYmxlLWd1ZXN0cz9pZD0ke2d1ZXN0SWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyB0YWJsZSBndWVzdDonLCByZXN1bHQuZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3IgfHwgJ0ZhaWxlZCB0byBkZWxldGUgZ3Vlc3QnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIHNldFRhYmxlR3Vlc3RzKHByZXYgPT4gcHJldi5maWx0ZXIoZ3Vlc3QgPT4gZ3Vlc3QuaWQgIT09IGd1ZXN0SWQpKTtcbiAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgZGVsZXRlZCB0YWJsZSBndWVzdCcpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBndWVzdDonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gZGVsZXRlIGd1ZXN0Jyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1vdmUgZ3Vlc3QgdG8gZGlmZmVyZW50IHRhYmxlXG4gIGNvbnN0IG1vdmVHdWVzdFRvVGFibGUgPSBhc3luYyAoXG4gICAgZ3Vlc3RJZDogc3RyaW5nLCBcbiAgICBuZXdUYWJsZUlkOiBzdHJpbmcsIFxuICAgIG5ld1RhYmxlTmFtZT86IHN0cmluZ1xuICApOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdXBkYXRlR3Vlc3QoZ3Vlc3RJZCwgeyBcbiAgICAgIHRhYmxlX2lkOiBuZXdUYWJsZUlkLCBcbiAgICAgIHRhYmxlX25hbWU6IG5ld1RhYmxlTmFtZSBcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUb2dnbGUgZWRpdCBtb2RlIGZvciBhIGd1ZXN0XG4gIGNvbnN0IHRvZ2dsZUVkaXRNb2RlID0gKGd1ZXN0SWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFRhYmxlR3Vlc3RzKHByZXYgPT4gXG4gICAgICBwcmV2Lm1hcChndWVzdCA9PiBcbiAgICAgICAgZ3Vlc3QuaWQgPT09IGd1ZXN0SWQgXG4gICAgICAgICAgPyB7IC4uLmd1ZXN0LCBpc0VkaXRpbmc6ICFndWVzdC5pc0VkaXRpbmcgfVxuICAgICAgICAgIDogeyAuLi5ndWVzdCwgaXNFZGl0aW5nOiBmYWxzZSB9IC8vIENsb3NlIG90aGVyIGVkaXRpbmcgbW9kZXNcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIC8vIENhbmNlbCBlZGl0IG1vZGUgZm9yIGEgZ3Vlc3RcbiAgY29uc3QgY2FuY2VsRWRpdCA9IChndWVzdElkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRUYWJsZUd1ZXN0cyhwcmV2ID0+IFxuICAgICAgcHJldi5tYXAoZ3Vlc3QgPT4gXG4gICAgICAgIGd1ZXN0LmlkID09PSBndWVzdElkIFxuICAgICAgICAgID8geyAuLi5ndWVzdCwgaXNFZGl0aW5nOiBmYWxzZSB9XG4gICAgICAgICAgOiBndWVzdFxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgLy8gR2V0IGd1ZXN0IGNvdW50IGZvciBhIHRhYmxlXG4gIGNvbnN0IGdldEd1ZXN0Q291bnRGb3JUYWJsZSA9ICh0YWJsZUlkOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiB0YWJsZUd1ZXN0cy5maWx0ZXIoZ3Vlc3QgPT4gZ3Vlc3QudGFibGVfaWQgPT09IHRhYmxlSWQpLmxlbmd0aDtcbiAgfTtcblxuICAvLyBHZXQgdG90YWwgZ3Vlc3QgY291bnRcbiAgY29uc3QgZ2V0VG90YWxHdWVzdENvdW50ID0gKCk6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIHRhYmxlR3Vlc3RzLmxlbmd0aDtcbiAgfTtcblxuICAvLyBDbGVhciBhbGwgZ3Vlc3RzIChmb3IgZGV2ZWxvcG1lbnQvdGVzdGluZylcbiAgY29uc3QgY2xlYXJBbGxHdWVzdHMgPSBhc3luYyAoKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBzZXRFcnJvcignVXNlciBub3QgYXV0aGVudGljYXRlZCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgLy8gR2V0IHVzZXIgcmVjb3JkIHRvIGdldCBpbnRlcm5hbCB1c2VyIElEXG4gICAgICBsZXQgdXNlckRhdGEsIHVzZXJFcnJvcjtcbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhOiB1c2VyQnlFbWFpbCwgZXJyb3I6IGVtYWlsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCdlbWFpbCcsIHVzZXIuZW1haWwpXG4gICAgICAgIC5zaW5nbGUoKTtcbiAgICAgICAgXG4gICAgICBpZiAoZW1haWxFcnJvcikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAgIC5lcSgnYXV0aF9pZCcsIHVzZXIuaWQpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICB1c2VyRGF0YSA9IHJlc3VsdC5kYXRhO1xuICAgICAgICB1c2VyRXJyb3IgPSByZXN1bHQuZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1c2VyRGF0YSA9IHVzZXJCeUVtYWlsO1xuICAgICAgICB1c2VyRXJyb3IgPSBlbWFpbEVycm9yO1xuICAgICAgfVxuXG4gICAgICBpZiAodXNlckVycm9yIHx8ICF1c2VyRGF0YSkge1xuICAgICAgICBzZXRFcnJvcignVXNlciBub3QgZm91bmQgaW4gZGF0YWJhc2UnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGVycm9yOiBkZWxldGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3RhYmxlX2d1ZXN0cycpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyRGF0YS5pZCk7XG5cbiAgICAgIGlmIChkZWxldGVFcnJvcikgdGhyb3cgZGVsZXRlRXJyb3I7XG5cbiAgICAgIHNldFRhYmxlR3Vlc3RzKFtdKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2xlYXJpbmcgZ3Vlc3RzOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBjbGVhciBndWVzdHMnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSW5pdGlhbCBsb2FkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hUYWJsZUd1ZXN0cygpO1xuICB9LCBbdXNlcl0pO1xuXG4gIHJldHVybiB7XG4gICAgdGFibGVHdWVzdHMsXG4gICAgbG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBmZXRjaFRhYmxlR3Vlc3RzLFxuICAgIGdldEd1ZXN0c0ZvclRhYmxlLFxuICAgIGFkZEd1ZXN0VG9UYWJsZSxcbiAgICB1cGRhdGVHdWVzdCxcbiAgICBkZWxldGVHdWVzdCxcbiAgICBtb3ZlR3Vlc3RUb1RhYmxlLFxuICAgIHRvZ2dsZUVkaXRNb2RlLFxuICAgIGNhbmNlbEVkaXQsXG4gICAgZ2V0R3Vlc3RDb3VudEZvclRhYmxlLFxuICAgIGdldFRvdGFsR3Vlc3RDb3VudCxcbiAgICBjbGVhckFsbEd1ZXN0cyxcbiAgfTtcbn07Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQXV0aCIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIm9uU25hcHNob3QiLCJhZGREb2MiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJkYiIsInVzZVRhYmxlR3Vlc3RzIiwidGFibGVHdWVzdHMiLCJzZXRUYWJsZUd1ZXN0cyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInVzZXIiLCJ0YWJsZUd1ZXN0c1JlZiIsImlkIiwicSIsInVuc3Vic2NyaWJlIiwic25hcHNob3QiLCJndWVzdHNEYXRhIiwiZG9jcyIsIm1hcCIsImRvYyIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiZXJyIiwibWVzc2FnZSIsImdldEd1ZXN0c0ZvclRhYmxlIiwidGFibGVJZCIsImZpbHRlciIsImd1ZXN0IiwiYWRkR3Vlc3RUb1RhYmxlIiwibmFtZSIsInRhYmxlTmFtZSIsImV2ZW50SWQiLCJndWVzdElkIiwiZ3Vlc3REYXRhIiwidXNlcklkIiwidHJpbSIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsImRvY1JlZiIsIkVycm9yIiwidXBkYXRlR3Vlc3QiLCJ1cGRhdGVzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImpzb24iLCJvayIsInByZXYiLCJpc0VkaXRpbmciLCJkZWxldGVHdWVzdCIsIm1vdmVHdWVzdFRvVGFibGUiLCJuZXdUYWJsZUlkIiwibmV3VGFibGVOYW1lIiwidGFibGVfaWQiLCJ0YWJsZV9uYW1lIiwidG9nZ2xlRWRpdE1vZGUiLCJjYW5jZWxFZGl0IiwiZ2V0R3Vlc3RDb3VudEZvclRhYmxlIiwiZ2V0VG90YWxHdWVzdENvdW50IiwiY2xlYXJBbGxHdWVzdHMiLCJ1c2VyRGF0YSIsInVzZXJFcnJvciIsInVzZXJCeUVtYWlsIiwiZW1haWxFcnJvciIsInN1cGFiYXNlIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiZW1haWwiLCJzaW5nbGUiLCJkZWxldGVFcnJvciIsImRlbGV0ZSIsImZldGNoVGFibGVHdWVzdHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useTableGuests.tsx\n"));

/***/ })

});